
class Portfolio < Dynasnip
  def handle(name)
    piece = app.soup[name]
    template = app.soup["portfolio"].template

    images_html = piece.images.map do |image_url| 
      %{<li><img src="/images/folio/#{image_url}" /></li>} 
    end.join
    
    template.gsub("NAME", piece.display_name).
             gsub("IMAGES", images_html).
             gsub("CONTENT", app.render(piece))
    
  end
  self
end
--- # Soup attributes
:render_as: Ruby
:name: portfolio
:template: |  
  <div class="project-desc">
    <h3>NAME</h3>
    CONTENT
  </div>
    
  <ul class="project-images">IMAGES</ul>