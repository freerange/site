<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-1507e54ca8e8109b8f18bb949aa6426ff1f387a59a864a86de4dbd371b20b242.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript"></script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 466 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Monday 8th January, 2018</p>
        <div class="author">
          <img alt="Chris Roos" src="images/people/chris-roos.jpg"> <span>by Chris Roos</span>
        </div>
        <div class="content">
          <h1 id="week-466">Week 466</h1>
          <p>This was our last full(ish) working week of 2017!</p>
          <p>We worked from <a href="http://space4.tech/">Space4</a>, <a href="http://www.theofficegroup.co.uk/">TOG</a> Old Street, TOG Bloomsbury and from home. Chris was off on holiday from Tuesday afternoon and James and I both took Friday off.</p>
          <p>We focussed on <a href="https://github.com/alphagov/asset-manager">Asset Manager</a> during the week and only really did the minimum admin required to keep GFR ticking over.</p>
          <p><a href="/chris-lowis">Chris</a> and I had a video call with a couple of people from GDS during the week. While the conversation was good, the quality wasn’t quite up to scratch. We were connected using three computers and were all relying on the built-in microphones which meant we suffered from quite a lot of feedback. Chris, <a href="/james-mead">James</a> and I have agreed that we should get/use headsets for these sort of calls in future.</p>
          <h2 id="asset-manager">Asset Manager</h2>
          <p>The week started on a positive note when we confirmed that the long-standing <a href="https://github.com/alphagov/asset-manager/issues/238">problem with missing <code>Content-Type</code> headers</a> had finally been solved. This problem had been hanging around for a while so it was great to see that the fix we made in week 465 had done the trick.</p>
          <p>I updated Whitehall to <a href="https://github.com/alphagov/whitehall/pull/3627">redirect asset requests from gov.uk to the canonical asset host</a>. This unblocks us to continue the migration of serving assets from Whitehall to Asset Manager. I also noticed that we hadn’t uploaded some hidden files (i.e. files named with a leading dot) from Whitehall to Asset Manager. It’s possible/probable that these files aren’t actively being requested but we’re keen to keep the same behaviour when migrating from one system to another. Removing any old/unused assets can happen later if necessary.</p>
          <p>Chris continued to upload existing assets from Whitehall to Asset Manager so that we’re ready to switch to serving assets from Asset Manager.</p>
          <p>James <a href="https://github.com/alphagov/asset-manager/pull/364">extended the state machine for Assets so that we can easily identify those that have been uploaded to S3</a>. A number of unrelated problems (the integration environment not being restarted, Sidekiq workers not being restarted and Sidekiq queue data not being sent to Grafana) meant that this all took longer than we’d hoped. James also worked through a number of <a href="https://dependabot.com/">Dependabot</a> pull requests, <a href="https://github.com/alphagov/govuk-puppet/pull/6971">removed some redundant nginx config</a> for serving assets from NFS and <a href="https://github.com/alphagov/asset-manager/pull/361">allowed the Fake S3 server to be used in non-development environments</a> to help with the <a href="https://github.com/alphagov/publishing-e2e-tests">publishing end-to-end tests project</a>.</p>
          <p>I think that about covers this week.</p>
          <p>Until next time.</p>
          <p>– Chris</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-482">Week 482</a>
            </li>
            <li value="5">
              <a href="/week-481">Week 481</a>
            </li>
            <li value="4">
              <a href="/week-480">Week 480</a>
            </li>
            <li value="3">
              <a href="/week-477">Week 477</a>
            </li>
            <li value="2">
              <a href="/week-479">Week 479</a>
            </li>
            <li value="1">
              <a href="/week-478">Week 478</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js"></script> 
  <script>


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
