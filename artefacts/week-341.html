<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript">
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 341 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Friday 7th August, 2015</p>
        <div class="author">
          <img alt="Chris Roos" src="images/people/chris-roos.jpg"> <span>by Chris Roos</span>
        </div>
        <div class="content">
          <h1 id="week-341">Week 341</h1>
          <p>Howdi, folks.</p>
          <p>Week 341 saw <a href="/james-mead">James</a> returning from his sailing holiday looking suitably tanned and relaxed.</p>
          <p>We spent Monday to Thursday working on Smart Answers. James spent Friday working on GFR while I swanned off to France for <a href="http://jasoncale.com/">Jase</a>’s wedding.</p>
          <h2 id="smart-answers">Smart Answers</h2>
          <p>James spent most of the week working on the new HMRC calculator. He’s got a <a href="https://github.com/alphagov/smart-answers/pull/1859">basic version sketched out</a> that’s looking good. It’s proving more time-consuming than expected to try to model the policy as close as possible. We think this is really important to help us end up with code that really lends itself to future changes.</p>
          <p>We finally got the OK to deploy a long-lived branch (the first commits date back to May 13th!) containing <a href="https://github.com/alphagov/smart-answers/pull/1777">changes to calculate-statory-sick-pay</a>. We’d run into a few problems trying to keep this long-lived branch up to date so it was great to finally get it merged.</p>
          <p>Deploying the changes to calculate-statutory-sick-pay unblocked <a href="https://github.com/alphagov/smart-answers/pull/1821">James’s branch that added regression tests to that Smart Answer</a>. This was the final Smart Answer that was waiting for regression tests so it was great to get this unblocked and merged.</p>
          <p>Having regression tests in place allowed me to open a <a href="https://github.com/alphagov/smart-answers/pull/1863">Pull Request that converted calculate-statutory-sick-pay to use ERB templates</a>. This just leaves marriage-abroad using the old style YAML templates.</p>
          <p>Now that we’re mostly done with the regression tests and conversions to ERB I moved on to start refactoring some of the Smart Answers.</p>
          <p>I <a href="https://github.com/alphagov/smart-answers/pull/1850">refactored additional-commodity-code to move some of the logic out of the flow and into the calculator</a>.</p>
          <p>I spent quite a bit of the week <a href="https://github.com/alphagov/smart-answers/pull/1856">refactoring the minimum-wage shared logic</a>. We think the result is much better: all the policy logic is contained in an object and the presentation is handled by the view which leaves the flow much simpler and easier to follow.</p>
          <p>I fixed a problem that meant people were able to <a href="https://github.com/alphagov/smart-answers/pull/1852">enter 0 hours in the minimum-wage calculators</a> resulting in the outcome showing “NaN”.</p>
          <p>I indented ERB templates for register-a-birth and register-a-death now that some outstanding changes have been deployed.</p>
          <p>I spent a short while investigating Rubocop violations. I’d love to get this added to the project and running automatically.</p>
          <p>James <a href="https://github.com/alphagov/smart-answers/pull/1866">configured Mocha to disable stubbing of non-existent methods</a>, which in turn involved updating a number of existing tests.</p>
          <p>James merged his <a href="https://github.com/alphagov/smart-answers/pull/1816">attempted fix for the intermittent test failure</a> we’re seeing on CI.</p>
          <p><a href="https://github.com/tadast">Tadas</a> got the app upgraded to Ruby 2.1.6 and continued his sterling work of handling updates to the existing Smart Answers, including overseas-passports, student-finance-forms and calculate-state-pension.</p>
          <p>James and I finished up on Thursday by preparing some notes for the presentation we’ve agreed to give at the content team show and tell next week.</p>
          <h2 id="gfr">GFR</h2>
          <p>Among other miscellaneous admin on Friday, James managed to improve both our website and a little app we use to integrate <a href="https://trello.com/">Trello</a> and <a href="https://harmonia.io/">Harmonia</a>.</p>
          <p>James improved our site by <a href="https://github.com/freerange/site/commit/e508d7eeddc41615532bbbaae72e2146abe8c900">dynamically listing our Show and Tell blog posts</a> on the <a href="/show-and-tell-events">Show and Tell homepage</a>.</p>
          <p>James improved our Trello/Harmonia integration by automatically <a href="https://github.com/freerange/webhooks/commit/7ac7990bb6a662be6b3345386b572388a03da0e7">ordering adding new task cards in the correct order</a>, and by <a href="https://github.com/freerange/webhooks/commit/a82bbae04b644c426d8001e24a0a2364bbca4526">handling the case where a Harmonia-task card has been deleted when the app tries to update it</a>.</p>
          <p>Until next time.</p>
          <p>– Chris</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/broken-rubyforge-urls">Broken Rubyforge URLs</a>
            </li>
            <li value="5">
              <a href="/week-446-links">Week 446 - Interesting links</a>
            </li>
            <li value="4">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="3">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
            <li value="2">
              <a href="/week-443">Week 443</a>
            </li>
            <li value="1">
              <a href="/week-441">Week 441</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
