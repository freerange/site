<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel='alternate' title='Go Free Range Blog' type='application/atom+xml'>
  <script src='http://use.typekit.com/rny4upv.js' type='text/javascript'>
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 352 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class='nav group' id='blog_nav'>
        <li id='link_home'>
          <p>Visit our <a href='/'>company website</a></p>
        </li>
        <li id='link_rss'>
          <p>Grab the <a href='http://feeds.gofreerange.com/GoFreeRangeBlog' title='RSS Feed from Feedburner'>RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Friday 23rd October, 2015</p>
        <div class="author">
          <img alt="James Mead" src="images/people/james-mead.jpg"> <span>by James Mead</span>
        </div>
        <div class="content">
          <h1 id="week-352">Week 352</h1>
          <p>We did the usual 4:1 split of days between <a href="https://github.com/alphagov/smart-answers">Smart Answers</a> and GFR, spending Monday and Tuesday at Aviation House and Wednesday, Thursday & Friday at GFRHQ.</p>
          <h2 id="smart-answers">Smart Answers</h2>
          <h3 id="business-as-usual">Business as usual</h3>
          <p>This week, in the absence of <a href="http://codeme.lt/">Tadas</a>, we had to spend quite a bit of time making & deploying “business-as-usual” changes as new requests & fact-checking responses came in from the departments:</p>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1995">Start page amendments for calculate-state-pension</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1994">Add instructions for how to apply for state-pension-topup</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1996">Fixed ‘claim your state pension’ link</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1997">Updated link in energy-grants-calculator</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1835">Add missing phrase for maternity-paternity-calculator</a>
            </li>
          </ul>
          <p>It was particularly good to finally get that last one merged, because it had been hanging around for ages.</p>
          <p>I also spent quite a bit of time working on a <a href="https://github.com/alphagov/smart-answers/pull/1998">bug fix for calculate-statutory-sick-pay</a>. The code for this seems way more complicated than the logic of the policy would suggest, so as I gradually understand it more and more, I hope I can improve the code.</p>
          <p>While it was good to support the Content Team in making these changes, it was also a bit frustrating that it took our time away from our main goal of making Smart Answers more maintainable.</p>
          <p>Anyway, towards the end of the week Tadas’ replacement, <a href="https://github.com/er-ke-de">Erik Eide</a>, started work at <a href="https://gds.blog.gov.uk/">GDS</a>. Welcome, Erik! It’s useful to have a fresh pair of eyes on the project and it prompted us to write some <a href="#documentation">documentation</a>.</p>
          <h3 id="converting-smartdown-flows">Converting Smartdown flows</h3>
          <p>You may remember from a couple of weeks ago that <a href="/chris-roos">Chris</a> converted the last Smartdown flow, <a href="https://www.gov.uk/pay-leave-for-parents">pay-leave-for-parents</a>, to <a href="https://github.com/alphagov/smart-answers/pull/1977">use only a single question per page</a>. This week he made further significant progress on converting the last Smartdown flow to a Ruby Smart Answer flow by <a href="https://github.com/alphagov/smart-answers/pull/2006">removing unused code from the flow</a> and finishing <a href="https://github.com/alphagov/smart-answers/pull/1986">generating regression tests for it</a>.</p>
          <p>Now that this flow only used one question per page, Chris also <a href="https://github.com/alphagov/smart-answers/pull/2018">renamed the question pages to match their underlying question</a>, which will make it easier to convert to a Ruby Smart Answer.</p>
          <h3 id="flow-visualisation">Flow visualisation</h3>
          <p>As a follow-up to <a href="https://github.com/alphagov/smart-answers/pull/1960">supporting visualisation of flows that use <code>next_node</code> with a block</a>, Chris went through the flows <a href="https://github.com/alphagov/smart-answers/pull/2010">explicitly specifying permitted next nodes where necessary</a>, so that the graph visualisation now works for all of them.</p>
          <h3 id="question-options">Question options</h3>
          <p>I spent some time simplifying the way the app looks up the content for question options.</p>
          <p>In the past we’ve been bitten quite a few times by the way the code was silently falling back to (often unhelpful/inappropriate) content when none was explicitly specified.</p>
          <p>So I’ve made a change which <a href="https://github.com/alphagov/smart-answers/pull/2005">forces all content for question options to be explicitly specified</a>.</p>
          <p>To make this change easier, I prepared the ground with a bit of <a href="https://github.com/alphagov/smart-answers/pull/2003">tidying</a> <a href="https://github.com/alphagov/smart-answers/pull/2011">up</a>. Unfortunately, some things I’d inadvertently broken only came to light <a href="https://github.com/alphagov/smart-answers/pull/2009">when the full suite of regression tests ran</a> and some <a href="https://github.com/alphagov/smart-answers/pull/2014">when the change was deployed to production</a>.</p>
          <h3 id="tidying-up">Tidying up</h3>
          <p>It’s so easy to keep putting off obvious simplifications or removal of unused code, so it’s good to see that we’re still ticking off some of these things:</p>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1988">Simplify presenter methods</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1979">Avoid potential bug in StatutorySickPayCalculator</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1999">Make test definitions consistent</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1984">Remove analytics:analyse rake task</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/1985">Remove script to test performance of smartdown loading / scenario execution</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2004">Update checksum data for redundancy smart answers</a>
            </li>
          </ul>
          <h3 id="documentation">Documentation</h3>
          <p>As I mentioned earlier, having Erik start has been a useful driver to improve the state of the documentation. I’m sure there’ll be more to follow:</p>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2000">Add documentation for regression tests</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2001">Add documentation about deploying</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2007">Add documentation for CI and deploying to preview</a>
            </li>
          </ul>
          <h2 id="gfr">GFR</h2>
          <p>On Wednesday we held our monthly Show & Tell event. We spent Friday doing the usual company admin tasks, replying to emails, etc. Chris penned the <a href="http://gofreerange.com/week-351">week notes</a> and I wrote up notes on the <a href="/show-and-tell-17">Show & Tell</a>. As an incentive/reward, we had lunch and a beer at the <a href="http://www.strongroombar.com/">Strongroom Bar & Kitchen</a>. In the afternoon, we had a productive session going through our company Trello board - this is something we keep forgetting to do, so it was was great to have a bit of a sort out.</p>
          <p>Anyway, until next time!</p>
          <p>– James</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-446-links">Week 446 - Interesting links</a>
            </li>
            <li value="5">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="4">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
            <li value="3">
              <a href="/week-443">Week 443</a>
            </li>
            <li value="2">
              <a href="/week-441">Week 441</a>
            </li>
            <li value="1">
              <a href="/week-442">Week 442</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
