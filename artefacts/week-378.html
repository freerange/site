<!DOCTYPE html>
<html lang='en'>
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel='alternate' title='Go Free Range Blog' type='application/atom+xml'>
  <script src='http://use.typekit.com/rny4upv.js' type='text/javascript'>
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 378 — Go Free Range.</title>
</head>
<body class='blog'>
  <div id='page'>
    <div class='group' id='header'>
      <ul class='nav group' id='blog_nav'>
        <li id='link_home'>
          <p>Visit our <a href='/'>company website</a></p>
        </li>
        <li id='link_rss'>
          <p>Grab the <a href='http://feeds.gofreerange.com/GoFreeRangeBlog' title='RSS Feed from Feedburner'>RSS</a> feed</p>
        </li>
      </ul>
      <h1 id='logo'><a href='/blog' title='Go to blog index'>Blog index</a></h1>
    </div>
    <div class='group' id='content'>
      <div class='blog_entry group'>
        <p class='article_date'>Thursday 28th April, 2016</p>
        <div class='author'>
          <img alt='Chris Roos' src='images/people/chris-roos.jpg'> <span>by Chris Roos</span>
        </div>
        <div class='content'>
          <h1 id="week-378">Week 378</h1>
          <h2 id="smart-answers">Smart Answers</h2>
          <p><a href="/james-mead">James</a> merged some of his PRs that had been reviewed while he was away:</p>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2391">PR 2391 - Restore indexable_content behaviour for outcome nodes</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2400">PR 2400 - Avoid double render error if exception raised after render</a>
            </li>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2408">PR 2408 - Introduce on_response blocks to set attributes on calculator</a>
            </li>
          </ul>
          <h3 id="fixing-auto-correctable-rubocop-violations">Fixing auto-correctable Rubocop violations</h3>
          <p>Having merged <a href="https://github.com/alphagov/smart-answers/pull/2418">PR 2418 (Use auto generated Rubocop config)</a>, James started fixing some of the violations that Rubocop can correct automatically.</p>
          <h3 id="ensuring-flows-can-be-visualised">Ensuring flows can be visualised</h3>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2457">PR 2457 - Add test to ensure all flows are visualisable</a>. This was prompted by some work to refactor benefit-cap-calculator. The refactoring changes broke the visualisation for this Smart Answer. We’ve previously tried quite hard to ensure the visualisations continue to work when we’ve been making changes, so the fact that they broke without a test failing didn’t feel quite right.
            </li>
          </ul>
          <h3 id="update-worldwide-organisation-data">Update Worldwide organisation data</h3>
          <ul>
            <li>
              <a href="https://github.com/alphagov/smart-answers/pull/2458">PR 2458 - Update worldwide location organisation data</a>. Having merged <a href="https://github.com/alphagov/smart-answers/pull/2448">PR 2448 (Avoid fixtures in WorldwideOrganisation tests)</a>, I’m now able to update the organisation fixture data without causing any tests to fail. This will make it easier to run a full set of regression tests for marriage-abroad.
            </li>
          </ul>
          <h3 id="refactoring-benefit-cap-calculator">Refactoring benefit-cap-calculator</h3>
          <p>I spent some time reviewing <a href="https://github.com/alphagov/smart-answers/pull/2452">PR 2452 - Refactor Benefit cap calculator (Making benefit rates and type configurable)</a>. James and I tend to review PRs by going through each commit and leaving comments. Unfortunately, this doesn’t seem to fit with GitHub’s interface and the PR ended up with lots of “comments on outdated diffs” which was a bit of a shame.</p>
          <h3 id="marriage-abroad-changes-for-ceremonies-in-sweden">Marriage-abroad changes for ceremonies in Sweden</h3>
          <p>I reviewed <a href="https://github.com/alphagov/smart-answers/pull/2453">PR 2453 - Content changes for opposite and same sex (Sweden)</a>. The regression test artefacts came in handy during this review as I was able to see that some outcomes had inadvertently changed. This isn’t entirely surprising given how (unnecessarily) complicated the marriage-abroad logic is, despite our efforts to improve it.</p>
          <p>I also created a new PR to illustrate an alternative approach to this PR. It felt like a relatively useful thing to do given that I’m currently remote and can’t easily pair on the code.</p>
          <h3 id="refactoring-marriage-abroad">Refactoring marriage-abroad</h3>
          <p>I continued working on DRYing up page titles for marriage-abroad outcomes. This work seems to be exposing some inconsistencies in the current implementation that I intend to dig into further.</p>
          <h2 id="gfr">GFR</h2>
          <h3 id="weeknotes">Weeknotes</h3>
          <p>I started trying to catch up with the backlog of week notes. I’m overdue to write notes for weeks 374 to 377! I started writing but got a bit overwhelmed by the idea of writing four weeks worth and struggled to make any real progress.</p>
          <h3 id="salary-and-dividend-amounts-for-201617">Salary and dividend amounts for 2016/17</h3>
          <p>We have an annual <a href="https://harmonia.io/">Harmonia</a> task that prompts us to review our salary and dividend amounts for the coming tax year. I spent all too long trying to get my head round the new dividend tax rules. They’re really not that complicated so I’m not entirely sure why I found it quite so hard.</p>
          <p>When working on this task last year (see <a href="/week-325#accountancy">Accountancy in week 325</a>), James created a spreadsheet to model the rules. I knew I wanted to modify this to handle the new rules but kept getting distracted by creating different implementations (in spreadsheets and Ruby). Although it felt like a waste at the time, one of the alternative spreadsheet implementations helped me spot a problem with my changes in the main spreadsheet. The Ruby version was definitely just a (fun) waste of time though :-)</p>
          <h3 id="annual-accounts">Annual accounts</h3>
          <p>James continued to investigate us preparing our annual accounts and has contacted a few accountants to find out whether they’d be willing to check a set of accounts that we’ve prepared.</p>
          <h3 id="cooperative-collaboration">Cooperative collaboration</h3>
          <p>We were recently contacted by someone who’s both working with, and in the process of setting up, a cooperative. He’s keen to get digital coops working together which sounds right up our street. James has arranged to meet him soon to find out more.</p>
          <h3 id="payeing-hmrc">PAYEing HMRC</h3>
          <p>We have to pay HMRC quarterly. Although chosen by Harmonia, I’d neglected to get to this task on time and so James kindly did it on my behalf. Thanks, James!</p>
          <h3 id="renewing-gofreerangecom">Renewing gofreerange.com</h3>
          <p>Safely in our hands for another year!</p>
          <p>– Chris</p>
        </div>
        <div class='comments' id='comments'>
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id='article_links'>
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="5">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
            <li value="4">
              <a href="/week-443">Week 443</a>
            </li>
            <li value="3">
              <a href="/week-441">Week 441</a>
            </li>
            <li value="2">
              <a href="/week-442">Week 442</a>
            </li>
            <li value="1">
              <a href="/week-442-links">Week 442 - Interesting links</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
