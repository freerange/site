<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-1507e54ca8e8109b8f18bb949aa6426ff1f387a59a864a86de4dbd371b20b242.css" media="all" rel="stylesheet">
  <link href="//vjs.zencdn.net/4.7.2/video-js.css" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript"></script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <script src="//vjs.zencdn.net/4.7.2/video.js"></script>
  <title>Week 428 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Friday 31st March, 2017</p>
        <div class="author">
          <img alt="Chris Lowis" src="images/people/chris-lowis.jpg"> <span>by Chris Lowis</span>
        </div>
        <div class="content">
          <h1 id="week-428">Week 428</h1>
          <p>This week we divided our time between working for our client <a href="https://gds.blog.gov.uk/">GDS</a> on the Manuals Publisher project and working on our own Go Free Range projects. We’re still based mostly out of the Office Group co-working space on Bloomsbury Way although we took advantage of our ability to work anywhere this week by working a couple of days at home. Chris R has been on leave with his family in Iceland.</p>
          <h2 id="gds">GDS</h2>
          <p>One of the great things about working on GDS projects is that a lot of the code is available for anyone to look at on Github. This week we opened <a href="https://github.com/alphagov/manuals-publisher/pulls?utf8=%E2%9C%93&amp;q=is%3Apr%20created%3A2017-03-27..2017-04-01">15 pull requests</a>. There’s still quite a bit of simple renaming refactoring to do in the code base, although because of Ruby’s dynamic nature and the large number of classes and files these renames can be quite time-consuming.</p>
          <p>We’ve identified that the application currently deals with 3 main domain concepts. “Manuals” are comprised of multiple, ordered “Sections” which can have a number of file “Attachments”. We’ve slowly been <a href="https://github.com/alphagov/manuals-publisher/pull/919">renaming methods and variables</a> to make the code reflect the domain. I think this is starting to pay off as it is becoming much easier to see what the individual controller actions do, for example.</p>
          <p>The application publishes to an API, but also stores state in a local MongoDB database. In the medium term we’d like to “fully migrate” the application so that it talks only to the API - but in the meantime we’ve been stuck on a old version of the library that interacts with MongoDB. We decided to take on some work to <a href="https://github.com/alphagov/manuals-publisher/pull/928">upgrade to a more recent version</a> of this library (and made the <a href="https://github.com/alphagov/manuals-publisher/pull/936">configuration of the connection</a> more consistent with other GDS applications along the way). It took us a little while to realise that these changes had broken the deployment process in the integration environment, so we’re investigating how to get those notifications.</p>
          <p>The application was originally written using some dependency injection techniques that are not particularly idiomatic in Rails applications. The use of these makes it harder for people to understand the application and are less relevant now that the scope of the application has become simpler. Where we can we’ve <a href="https://github.com/alphagov/manuals-publisher/pull/926">removed things like the “repository registry”</a>.</p>
          <p>Towards the end of the week James and I started to spike an approach to simplify the code further by start with a <a href="https://github.com/alphagov/manuals-publisher/blob/33bee7df0/app/controllers/manuals_controller.rb#L22">controller action</a> and work our way in. The app currently makes a distinction between classes that talk to MongoDB, objects that represent domain concepts, and “repositories” and “marshallers” which combine the two. We’re trying to bring some of those concepts together in a more idiomatic way.</p>
          <h2 id="gfr">GFR</h2>
          <p>A couple of weeks ago we started having short <a href="https://en.wikipedia.org/wiki/Retrospective#Software_development">retrospectives</a> on a Friday afternoon. Although these kind of meetings are most frequently used with software development projects, we’ve found the format of talking about what has gone well and less well and how to improve useful in making changes to our process. As a result we’ve started to use <a href="http://harmonia.io/">Harmonia</a> to remind us to work through our Trello “inbox” each day so that we keep on top of incoming ideas and communications.</p>
          <p>At last weeks retrospective we also decided to <a href="http://gofreerange.com/cooperating-with-fairmondo">write a blog post</a> on our work with fellow cooperative Fairmondo UK.</p>
          <p>Our accountant has started making up our annual accounts and he’s been asking us some questions.</p>
          <p>If you’d like to see what we’ve been reading this week <a href="http://gofreerange.com/week-428-links">take a look at our week links</a>. Have a great weekend!</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-484">Week 484</a>
            </li>
            <li value="5">
              <a href="/upcoming-availability">Upcoming availability</a>
            </li>
            <li value="4">
              <a href="/week-471">Week 471</a>
            </li>
            <li value="3">
              <a href="/week-482">Week 482</a>
            </li>
            <li value="2">
              <a href="/week-481">Week 481</a>
            </li>
            <li value="1">
              <a href="/week-480">Week 480</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js"></script> 
  <script>


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
