<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript">
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 359 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Wednesday 16th December, 2015</p>
        <div class="author">
          <img alt="Chris Roos" src="images/people/chris-roos.jpg"> <span>by Chris Roos</span>
        </div>
        <div class="content">
          <h1 id="week-359">Week 359</h1>
          <p>Week 359 was our last full(ish) week working on <a href="https://github.com/alphagov/smart-answers">Smart Answers</a> having now spent almost 8 months working on the project. There’s still lots more that we’d like to do and it’s possible we’ll be back in the New Year to pick up where we’ve left off.</p>
          <p>We’d agreed with GDS that Tuesday would be our last day working on Smart Answers, although we also ended up working on Wednesday and Thursday in an attempt to leave the project in as good a state as possible.</p>
          <h2 id="smart-answers">Smart Answers</h2>
          <p>The week didn’t start quite as planned. We heard from the team on second line that the memory profile of Smart Answers appeared to have changed after our most recent deployment. Unfortunately, we had to postpone any investigation as we had two presentations on Tuesday that we needed to prepare for.</p>
          <h3 id="presentations">Presentations</h3>
          <p>We spent all of Monday and quite a bit of Tuesday morning preparing for the presentations that we’d agreed to do: one for developers and the other for the content team. I’d naively thought the preparation wouldn’t take too long but getting started reminded me of how long it took us to prepare for the presentation we gave at FutureLearn back in <a href="/week-317">week 317</a>.</p>
          <p>We used the same format for both presentations. We explained what we’d been asked to do, how we approached the problem, what we did and what we’d do next. We used <a href="http://www.decksetapp.com/">Deckset</a> to generate slides from our <a href="https://github.com/freerange/gds-presentations">Markdown notes that you can find on GitHub</a>.</p>
          <h3 id="handover">Handover</h3>
          <p>In between preparing for the presentations we had a couple of final handover meetings. The first with <a href="https://twitter.com/bradwright">Brad</a> and <a href="https://dafyddvaughan.uk/">Dafydd</a> in which we offered to be available on an ad-hoc basis over the next month or so. The second with <a href="http://dsingleton.co.uk/">David</a>, <a href="https://twitter.com/jenny_duckett">Jenny</a> and Erik in which we went through Trello for the final time to ensure that there wasn’t anything critical we’d missed. James, Erik and I then spent the last hour on Tuesday going through Trello and making sure that all the cards made sense.</p>
          <h3 id="investigating-memory-use">&nbsp;Investigating memory use</h3>
          <p><a href="/james-mead">James</a> started investigating the memory problem on Tuesday and then we both paired on it on Wednesday. We <em>think</em> the problem might be due to us switching to using ERB to render question pages. We weren’t able to replicate the problem locally which was a pain. What we were able to see was that due to the way one of the presenter objects worked, we were now creating a large number of additional objects that we weren’t creating before.</p>
          <p>James made a change to our primary presenter so that it <a href="https://github.com/alphagov/smart-answers/pull/2172">memoized the child presenters it created</a>. We hope this’ll reduce the total number of objects being created, and therefore the amount of memory being consumed.</p>
          <p>James investigated reducing the number of <code>ActiveView::Base</code> objects we were creating by <a href="https://github.com/alphagov/smart-answers/pull/2176">using a single ActionView::Base object for all node presenters</a>. Although it sounded like an improvement, the change was quite awkward to make given the current state of the code, and James ended up discarding the spike.</p>
          <h3 id="leaving-drinks">Leaving drinks</h3>
          <p>We finished up on Tuesday with some low key leaving drinks at the <a href="http://princesslouisepub.co.uk/">Princess Louise</a> with a few folks from the content team.</p>
          <h2 id="gfr">GFR</h2>
          <p>Our big news is that both James and I are going to spend some time abroad for the first part of next year. I’m going to be in Australia and New Zealand for the first 6 months and James has recently agreed to share the rent of an apartment in a Swiss ski resort!</p>
          <p>The plan is to continue working while we’re both away but we have no real idea how feasible this is going to be. It’s certainly going to be interesting to see how everything pans out.</p>
          <p>Given that we’re both going away we’ve decided to give up the lease on our office at <a href="http://shoreditchworks.com/">Shoreditch Works</a>. We’ve really enjoyed our time here and might well come back in the second half of 2016 (if there’s still room) but it just doesn’t make sense to hold on to it when neither of us are around to use it.</p>
          <p>Having given our notice we spent quite a bit of Thursday and Friday working out how to get rid of the things we’ve accumulated. This mostly consisted of trips to our storage unit, taking photos of all our stuff and listing lots of things on Gumtree.</p>
          <p>We took a break from our office management duties to have a splendid lunch at the <a href="http://thehorseandgroom.net/">Horse and Groom</a> with <a href="https://twitter.com/#!/hlame">Murray</a> and <a href="http://lazyatom.com/">James A</a> on Friday.</p>
          <p>Until next time.</p>
          <p>– Chris</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-446">Week 446</a>
            </li>
            <li value="5">
              <a href="/week-447">Week 447</a>
            </li>
            <li value="4">
              <a href="/broken-rubyforge-urls">Broken Rubyforge URLs</a>
            </li>
            <li value="3">
              <a href="/week-446-links">Week 446 - Interesting links</a>
            </li>
            <li value="2">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="1">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
