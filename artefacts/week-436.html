<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript">
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 436 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Friday 26th May, 2017</p>
        <div class="author">
          <img alt="Chris Roos" src="images/people/chris-roos.jpg"> <span>by Chris Roos</span>
        </div>
        <div class="content">
          <h1 id="week-436">Week 436</h1>
          <p>Afternoon folks.</p>
          <p>We’ve spent the majority of our time working on <a href="https://github.com/alphagov/manuals-publisher">Manuals Publisher</a>; trying to get as much done before we hand it over at the end of the month.</p>
          <p>We’ve worked at <a href="http://www.theofficegroup.co.uk/">TOG</a> Bloomsbury, TOG King’s Cross and from home. It’s been generally quieter in TOG Bloomsbury this week which makes it a much nicer place to work.</p>
          <h2 id="manuals-publisher">Manuals Publisher</h2>
          <p>I think we’ve made some good progress this week despite me getting into a bit of a hole trying to simplify the Section model.</p>
          <p><a href="/chris-lowis">Chris</a> and <a href="/james-mead">James</a> paired on getting the app <a href="https://github.com/alphagov/manuals-publisher/pull/1145">upgraded to Rails 5</a> before Chris then <a href="https://github.com/alphagov/manuals-publisher/pull/1153">upgraded it to Rails 5.1</a>. This upgrade also saw us upgrading Mongoid from 4 to 6.</p>
          <p>James <a href="https://github.com/alphagov/manuals-publisher/pull/1151">removed some unnecessary Gems from the Gemfile</a> and <a href="https://github.com/alphagov/manuals-publisher/pull/1154">updated others</a>. He was able to remove unnecessary version constraints from the Gemfile along the way. It’s long been our preference to avoid specifying version constraints in the Gemfile and to rely on our tests and due diligence to avoid breaking things when we upgrade.</p>
          <p>I made <a href="https://github.com/alphagov/manuals-publisher/pull/1141">some</a> <a href="https://github.com/alphagov/manuals-publisher/pull/1148">changes</a> that should hopefully reduce the number of opportunities for our database to get out of sync with the Publishing API. These sort of changes should allow us to remove some of the workaround scripts that have been created to get this data back in sync.</p>
          <p>James tracked down and <a href="https://github.com/alphagov/manuals-publisher/pull/1146">fixed a problem that meant we were seeing exceptions if validation errors caused sections to fail to save</a>.</p>
          <p>We spent some time discussing the possibility of using the data in the Publishing API as our primary data source. This was always a longer term goal of the project although we weren’t convinced we’d get there. Now that the code is simpler we’re in a better position to at least spike on this. Such a spike could help us decide whether to continue improving the app to try to keep the local database in sync with the Publishing API or whether to switch straight to using the Publishing API as our primary data source.</p>
          <p>I’m happy that we’re going to leave the app in a much better state than it was but I’m also slightly disappointed that we didn’t make quite as many improvements as we’d have liked.</p>
          <h2 id="harmonia-and-webhooks">Harmonia and Webhooks</h2>
          <p>James investigated a number of exceptions reported from our <a href="https://github.com/freerange/webhooks">Webhooks app</a>. The app was experiencing timeouts when communicating with <a href="https://harmonia.io/">Harmonia</a>. Having spoken to <a href="http://lazyatom.com/">James A</a> it sounds as though this is caused by the large iCal feed we use to trigger some of our tasks. We’ve attempted to alleviate this problem by using a Harmonia-specific calendar instead of our main GFR one and by <a href="https://github.com/freerange/webhooks/pull/26">reducing the number of times we sign in to Harmonia</a>.</p>
          <h2 id="errbit">Errbit</h2>
          <p>James created <a href="https://github.com/errbit/errbit/pull/1196">PR 1196 in the errbit project</a> to allow us to receive more frequent exception notifications. This was promptly merged after a short discussion which is great!</p>
          <p>I’m off to France next week so I’ll leave you in the capable hands of Chris and James :-)</p>
          <p>Until next time.</p>
          <p>– Chris</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-446">Week 446</a>
            </li>
            <li value="5">
              <a href="/week-447">Week 447</a>
            </li>
            <li value="4">
              <a href="/broken-rubyforge-urls">Broken Rubyforge URLs</a>
            </li>
            <li value="3">
              <a href="/week-446-links">Week 446 - Interesting links</a>
            </li>
            <li value="2">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="1">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
