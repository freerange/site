<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-1507e54ca8e8109b8f18bb949aa6426ff1f387a59a864a86de4dbd371b20b242.css" media="all" rel="stylesheet">
  <link href="//vjs.zencdn.net/4.7.2/video-js.css" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript"></script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <script src="//vjs.zencdn.net/4.7.2/video.js"></script>
  <title>Week 476 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Thursday 8th March, 2018</p>
        <div class="author">
          <img alt="Chris Lowis" src="images/people/chris-lowis.jpg"> <span>by Chris Lowis</span>
        </div>
        <div class="content">
          <h1 id="week-476">Week 476</h1>
          <p>Chris R spent Monday in Belfast on a short break for his birthday. Happy Birthday Chris! As the end of our current project approaches we poured most of our effort into trying to get the Asset Manager work into a state where we’d be happy to hand things over.</p>
          <p>We’ve been facing a bit of a dilemma. For most of the last year on the two projects we’ve worked on for GDS, we’ve approached the development work in the same we always do. By trying to deliver small, incremental changes that add value to the system. We do this so that if circumstances change and we need to change direction, work on something different, or stop work altogether we are able to do so in the knowledge that we’re leaving the system we’re working on in a better state than we found it.</p>
          <p>With the last part of the asset manager work - moving the remaining “attachment” assets from Whitehall to Asset Manager - we have struggled to find a way to break the problem into small pieces that can be delivered separately. We can’t find a way to start serving these assets from Asset Manager (and by proxy, Amazon’s S3 service) without migrating all of the assets, implementing the appropriate permissions system in Asset Manager, and adding functionality to ensure that when editors change the permissions of documents in Whitehall we make sure those changes are also reflected in Asset Manager. As a result, we need to do all of those things before we can finally switch over.</p>
          <p>Whitehall is quite a complicated rails application and the more we work on these aspects the more small, unexpected issues we find. As an example, this week I worked on <a href="https://github.com/alphagov/whitehall/pull/3826">changing the CSV preview functionality</a> (for example, <a href="https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/603201/Postcode_level_gas_estimates_2015_experimental.csv/preview">this preview</a> of a dataset of domestic gas consumption estimates) so that it didn’t rely on reading the file from disk, as shortly we hope the files will no longer be on the disk at all. It was a small change that took quite a bit of time to get right.</p>
          <p>We’re worrying a little bit about the possibility of writing a lot of code that doesn’t ultimately allow us to fully switch the serving of these assets to Asset Manager and that this inconsistency might ultimately make it harder for future developers to understand the system than if we just revert back to a previous, more consistent state. We don’t want to have to do that, and we’ll be thinking of ways around it when we talk to GDS in Week 477.</p>
          <p>In the meantime Chris prepared and delivered a <a href="https://github.com/freerange/gds-asset-manager-presentation">great, short overview</a> of the changes we’d made to asset serving at a tech talk in the GDS Whitechapel office. There was a lot of useful discussion after the talk and we think it helped other developers to understand how things have changed.</p>
          <h2 id="other-good-things">Other good things</h2>
          <p>On Wednesday Chris and I spoke to <a href="https://twitter.com/hazelsheffield">Hazel Sheffield</a> who is writing an article about tech co-operatives and <a href="https://www.coops.tech/">CoTech</a>. We ended the week with our usual team meeting and retrospective - this time entirely remotely.</p><!-- add content here -->
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-488">Week 488</a>
            </li>
            <li value="5">
              <a href="/week-490">Week 490</a>
            </li>
            <li value="4">
              <a href="/week-487">Week 487</a>
            </li>
            <li value="3">
              <a href="/week-485">Week 485</a>
            </li>
            <li value="2">
              <a href="/week-484">Week 484</a>
            </li>
            <li value="1">
              <a href="/upcoming-availability">Upcoming availability</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js"></script> 
  <script>


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
