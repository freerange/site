<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Apple macOS version 5.6.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ruby rails software development london" name="keywords">
  <meta content="telephone=no" name="format-detection">
  <link href="/assets/application-1507e54ca8e8109b8f18bb949aa6426ff1f387a59a864a86de4dbd371b20b242.css" media="all" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel="alternate" title="Go Free Range Blog" type="application/atom+xml">
  <script src="http://use.typekit.com/rny4upv.js" type="text/javascript"></script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 456 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class="nav group" id="blog_nav">
        <li id="link_home">
          <p>Visit our <a href="/">company website</a></p>
        </li>
        <li id="link_rss">
          <p>Grab the <a href="http://feeds.gofreerange.com/GoFreeRangeBlog" title="RSS Feed from Feedburner">RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Thursday 19th October, 2017</p>
        <div class="author">
          <img alt="Chris Lowis" src="images/people/chris-lowis.jpg"> <span>by Chris Lowis</span>
        </div>
        <div class="content">
          <h1 id="week-456">Week 456</h1>
          <p>We had a couple of days working from <a href="https://www.theofficegroup.co.uk/office/133-whitechapel-high-street/">The Office Group’s Whitechapel</a> co-working space this week. It’s reasonably quiet, comfortable and conveniently located opposite our current client’s office.</p>
          <h2 id="gds">GDS</h2>
          <p>This week we continued work on migrating Whitehall to use the Asset Manager API (and in doing so migrate the assets themselves from an NFS file system to Amazon’s S3 storage). In particular we’re concerned that due to the number of assets in the system, and how many requests are made to the most popular ones, we don’t want to change any of the cache control headers served with the asset (and thereby invalidate downstream caches) when we move to the new system. We <a href="https://github.com/alphagov/asset-manager/pull/257">fixed some issues</a> with how we’re storing the data used to populate these headers and then <a href="https://github.com/alphagov/asset-manager/pull/261">changed the Asset Manager API</a> to allow requests for assets to be proxied to S3.</p>
          <p><a href="https://github.com/alphagov/whitehall">Whitehall</a> uses <a href="https://github.com/carrierwaveuploader/carrierwave">Carrierwave</a>, a Ruby library, to generate various resized versions of images when a new one is uploaded. In some cases up to 7 different versions of an image can be created for a single upload. When storing the versions on disk this operation was fast enough that it was allowed to happen as part of the request-response cycle on image upload. However with the move to using an API to store these Assets the process becomes slower, and potentially more brittle - any of the individual requests to store a version of an image could fail due to network connection issues between Whitehall and the API, for example. To mitigate this we <a href="https://github.com/alphagov/whitehall/pull/3480">moved to making the API requests in a background worker</a>. Eventually we may investigate generating these versions (potentially on-demand) in the Asset Manager API itself, but for now this decision allows us to make a smaller change. It’s another example of one of the challenges of a <a href="https://en.wikipedia.org/wiki/Service-oriented_architecture">service-based</a> architecture - although splitting a system into smaller pieces has several advantages for code reuse, and independent development of the pieces it introduces additional complexities for the clients of the new services.</p>
          <h2 id="new-projects">New projects</h2>
          <p>We’d previously decided to apply for a <a href="https://www.digitalmarketplace.service.gov.uk/digital-outcomes-and-specialists/opportunities/5122">new project</a> through the Government’s <a href="https://www.digitalmarketplace.service.gov.uk/">Digital Marketplace</a>. Having submitted an application form we were invited in to present on Wednesday afternoon. We prepared a few slides and notes - based mainly on the application we’d already submitted. We wanted to keep the presentation short to allow plenty of time for questions, it seemed to us that that would be the best way to explain our approach and how we work. We went in to the GDS Whitechapel office for 30 minutes towards the end of the day on Wednesday and were fairly pleased with how the presentation went.</p>
          <h2 id="gfr">GFR</h2>
          <p>On Wednesday we hosted our <a href="http://gofreerange.com/show-and-tell-37">October Show and Tell</a> in Shoreditch. It was great to see some new and some familiar faces.</p>
          <p>There was the usual smattering of business-related work this week too. We received a note from our accountant Paul that he wouldn’t be able to continue working with us - although our annual accounts, due to be submitted shortly are almost completed we were faced with a choice: finish them up ourselves or find a new accountant to help. We decided to go with the latter, and after a few emails settled on someone who offered to help. We’re still finalising the agreement but they seem to be professional and helpful so far.</p>
          <p>We’re working with Aaron at <a href="https://agile.coop/">Agile Collective</a> to organise the accommodation for the upcoming <a href="https://wiki.coops.tech/wiki/Wortley_Hall_2017">CoTech retreat</a> at Wortley Hall. We’ve sent out a Google spreadsheet for CoTech members to complete and we’ll then handle the invoicing and room allocation when we’ve got them all back. It’s a bit of legwork but will hopefully it easier for everyone who’s attending to concentrate on the activities at the retreat.</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-482">Week 482</a>
            </li>
            <li value="5">
              <a href="/week-481">Week 481</a>
            </li>
            <li value="4">
              <a href="/week-480">Week 480</a>
            </li>
            <li value="3">
              <a href="/week-477">Week 477</a>
            </li>
            <li value="2">
              <a href="/week-479">Week 479</a>
            </li>
            <li value="1">
              <a href="/week-478">Week 478</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js"></script> 
  <script>


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
