<!DOCTYPE html>
<html lang="en">
<head>
  <meta content="HTML Tidy for HTML5 for Mac OS X version 5.2.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="A small software development company based in London, UK." name="description">
  <meta content="GNqgxou6cYLkYq9l47mZM00R93JN49KqRhJebklH7uo" name="google-site-verification">
  <meta content="width=device-width" name="viewport">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <link href="/favicon.ico" rel="shortcut icon">
  <link href="/assets/application-e4364b3782cc7477f226bc8504403fa41bfb8d1f7a4ed67eb3fe80f20bd5b014.css" media="all" rel="stylesheet">
  <link href="http://feeds.gofreerange.com/GoFreeRangeBlog" rel='alternate' title='Go Free Range Blog' type='application/atom+xml'>
  <script src='http://use.typekit.com/rny4upv.js' type='text/javascript'>
  </script>
  <script>
  try{Typekit.load();}catch(e){}
  </script>
  <title>Week 346 — Go Free Range.</title>
</head>
<body class="blog">
  <div id="page">
    <div class="group" id="header">
      <ul class='nav group' id='blog_nav'>
        <li id='link_home'>
          <p>Visit our <a href='/'>company website</a></p>
        </li>
        <li id='link_rss'>
          <p>Grab the <a href='http://feeds.gofreerange.com/GoFreeRangeBlog' title='RSS Feed from Feedburner'>RSS</a> feed</p>
        </li>
      </ul>
      <h1 id="logo"><a href="/blog" title="Go to blog index">Blog index</a></h1>
    </div>
    <div class="group" id="content">
      <div class="blog_entry group">
        <p class="article_date">Friday 11th September, 2015</p>
        <div class="author">
          <img alt="Chris Roos" src="images/people/chris-roos.jpg"> <span>by Chris Roos</span>
        </div>
        <div class="content">
          <h1 id="week-346">Week 346</h1>
          <p>Aloha folks.</p>
          <p>Week 346 was both short because of the bank holiday Monday and quiet because <a href="/james-mead">James</a> was still away on holiday.</p>
          <p>I worked on <a href="https://github.com/alphagov/smart-answers">Smart Answers</a> on Tuesday, Wednesday and Friday, and on GFR on Thursday.</p>
          <h2 id="smart-answers">Smart Answers</h2>
          <p>I spent some time clearing through <a href="https://github.com/errbit/errbit">errbit</a> at the beginning of the week. I’d noticed a few unusual exceptions (unfortunately we have some “expected” exceptions that we’re currently ignoring) and wanted to know whether they were anything to worry about.</p>
          <p>I merged the pull request that adds <a href="https://github.com/bbatsov/rubocop">Rubocop</a> to our test script that runs on <a href="https://jenkins-ci.org/">Jenkins</a>. This should prevent us from introducing new violations to our code.</p>
          <h3 id="part-year-profit-for-tax-credits">Part year profit for Tax Credits</h3>
          <p>I added support for businesses that stop trading during the tax year in which their Tax Credits award ends. I think this should cater for people that no longer need to be self employed after their Tax Credits award ends.</p>
          <p>I spent some time exploring Cucumber style tests to describe the behaviour of this new Smart Answer. I ended up switching to standard Ruby tests but thinking about the flow in terms of the language that Cucumber promotes definitely helped. This reminded me of <a href="https://gist.github.com/memespring/55f8529f1d9e6dd76632">Richard Pope’s Cucumber features that describe the rules around free prescriptions</a>. I do think it might be worth considering something similar to describe the policies/rules underpinning the Smart Answers.</p>
          <p><a href="https://insidegovuk.blog.gov.uk/author/liz-lutgendorff/">Liz</a> and I met with Gill from HMRC on Friday. I demonstrated the Smart Answer’s ability to handle the case where the business has stopped trading, which Gill seemed happy with. We moved on to discuss the rules around businesses that have recently started trading and I think we now have all the information we need to finish the Smart Answer! Gill said that the work James had done to visualise the various date ranges had really helped her understand the rules for this Smart Answer.</p>
          <h3 id="analytics">Analytics</h3>
          <p>I finished up on Friday by spending some time with Chris Russell. Chris had reported a bit of a problem with the Google Analytics tracking we’ve added to record when people reach Smart Answer outcomes. It seems that in a small number of cases we’re recording an outcome event against URLs that don’t result in an outcome being reached. I don’t have a definitive answer yet but my best guess is that it’s a problem with our use of JavaScript to reload sections of the page and update the URL in the browser.</p>
          <h2 id="gfr">GFR</h2>
          <p>We received confirmation of our contract extension at GDS. We’ve been extended up until the end of November although it’s possible we’ll try to have everything handed over before then.</p>
          <p>There’s not much of any interest to report from my GFR day. It was filled with writing weeknotes and ticking off a number of admin chores.</p>
          <p>Until next time.</p>
          <p>– Chris</p>
        </div>
        <div class="comments" id="comments">
          Disqus commenting is only enabled in production.
        </div>
      </div>
      <div id="article_links">
        <h3>Recent</h3>
        <div id="recent_articles">
          <ol class="blog_list" reversed="">
            <li value="6">
              <a href="/week-446-links">Week 446 - Interesting links</a>
            </li>
            <li value="5">
              <a href="/week-444">Week 444</a>
            </li>
            <li value="4">
              <a href="/week-444-links">Week 444 - Interesting links</a>
            </li>
            <li value="3">
              <a href="/week-443">Week 443</a>
            </li>
            <li value="2">
              <a href="/week-441">Week 441</a>
            </li>
            <li value="1">
              <a href="/week-442">Week 442</a>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <script src="/assets/application-a06a15e76d88968aa98de5792d639d527018444227ecda8004f3fb4a3e0d1d6f.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45002715-1', 'gofreerange.com');
  ga('send', 'pageview');

  </script>
</body>
</html>
